<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ—¥è®°æ•°æ®æµ‹è¯•</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #1a1a2e;
            color: white;
        }
        .test-item { 
            margin: 15px 0; 
            padding: 15px; 
            background: #16213e; 
            border-radius: 8px;
            border-left: 4px solid #0f3460;
        }
        .success { border-left-color: #10b981; }
        .error { border-left-color: #ef4444; }
        pre { 
            background: #0f0f1e; 
            padding: 10px; 
            border-radius: 4px; 
            overflow-x: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æˆåŠŸæ—¥è®°æ•°æ®åŠ è½½æµ‹è¯•</h1>
    <div id="results"></div>

    <script src="data.js"></script>
    <script>
        const results = document.getElementById('results');
        
        function addTest(title, status, content) {
            const div = document.createElement('div');
            div.className = `test-item ${status}`;
            div.innerHTML = `
                <h3>${status === 'success' ? 'âœ…' : 'âŒ'} ${title}</h3>
                ${content ? `<pre>${content}</pre>` : ''}
            `;
            results.appendChild(div);
        }

        // æµ‹è¯•1ï¼šæ£€æŸ¥å˜é‡æ˜¯å¦å®šä¹‰
        if (typeof successDiaryData !== 'undefined') {
            addTest('successDiaryData å·²å®šä¹‰', 'success', `é•¿åº¦: ${successDiaryData.length}`);
        } else {
            addTest('successDiaryData æœªå®šä¹‰', 'error', 'å˜é‡ä¸å­˜åœ¨');
        }

        // æµ‹è¯•2ï¼šæ£€æŸ¥æ˜¯å¦æš´éœ²åˆ°window
        if (typeof window.successDiaryData !== 'undefined') {
            addTest('window.successDiaryData å·²æš´éœ²', 'success', `é•¿åº¦: ${window.successDiaryData.length}`);
        } else {
            addTest('window.successDiaryData æœªæš´éœ²', 'error', 'éœ€è¦åœ¨data.jsä¸­æ·»åŠ  window.successDiaryData = successDiaryData');
        }

        // æµ‹è¯•3ï¼šæ£€æŸ¥æ•°æ®ç»“æ„
        if (window.successDiaryData && window.successDiaryData.length > 0) {
            const first = window.successDiaryData[0];
            addTest('æ•°æ®ç»“æ„æ£€æŸ¥', 'success', JSON.stringify(first, null, 2));
        } else {
            addTest('æ•°æ®ç»“æ„æ£€æŸ¥', 'error', 'æ•°æ®ä¸ºç©ºæˆ–ä¸å­˜åœ¨');
        }

        // æµ‹è¯•4ï¼šæ£€æŸ¥å…¶ä»–å¿…éœ€å˜é‡
        const vars = {
            'diaryTagLibrary': window.diaryTagLibrary,
            'moodLibrary': window.moodLibrary,
            'momentsData': window.momentsData
        };
        
        Object.entries(vars).forEach(([name, value]) => {
            if (value) {
                const length = Array.isArray(value) ? value.length : Object.keys(value).length;
                addTest(`${name} å·²åŠ è½½`, 'success', `åŒ…å« ${length} é¡¹`);
            } else {
                addTest(`${name} æœªåŠ è½½`, 'error');
            }
        });

        // æµ‹è¯•5ï¼šå°è¯•æ‰‹åŠ¨æ¸²æŸ“
        console.log('=== å®Œæ•´æµ‹è¯•æ•°æ® ===');
        console.log('successDiaryData:', window.successDiaryData);
        console.log('diaryTagLibrary:', window.diaryTagLibrary);
        console.log('moodLibrary:', window.moodLibrary);
    </script>
</body>
</html>
