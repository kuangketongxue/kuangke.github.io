<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‹‚å®¢Â·é“¶æ²³ - æ¢ç´¢ä½ çš„æ˜Ÿè¾°å¤§æµ·</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* AIå‰æ²¿æŒ‰é’®ä¸“å±æ ·å¼ */
        .ai-nav-button {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            font-weight: 600;
        }
        .ai-nav-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }
        .ai-nav-button:hover::before {
            left: 100%;
        }
        .ai-nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }
        .ai-nav-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }
        .ai-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            margin-right: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        .ai-nav-button:hover .ai-icon {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        .ai-text {
            font-size: 14px;
            letter-spacing: 0.5px;
        }
        /* ä¸ºAIæŒ‰é’®æ·»åŠ å‘¼å¸åŠ¨ç”»æ•ˆæœ */
        @keyframes ai-glow {
            0%, 100% { box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); }
            50% { box-shadow: 0 4px 20px rgba(102, 126, 234, 0.6); }
        }
        .ai-nav-button {
            animation: ai-glow 3s ease-in-out infinite;
        }
        /* ç»Ÿä¸€å›¾æ ‡å¤§å°å’Œé¢œè‰² */
        .success-icon, .sky-icon, .ai-icon, .exam-icon {
            color: #fff; /* ç¡®ä¿å›¾æ ‡é¢œè‰²åœ¨æŒ‰é’®èƒŒæ™¯ä¸Šå¯è§ */
            font-size: 16px; /* ç»Ÿä¸€å›¾æ ‡å¤§å° */
        }
        
        /* æ·»åŠ åŠ è½½çŠ¶æ€æ ·å¼ */
        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            color: var(--text-secondary, #666);
        }
        .loading-spinner::after {
            content: '';
            width: 24px;
            height: 24px;
            margin-left: 12px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .no-results {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary, #666);
            font-size: 1.1rem;
        }
        
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .notification {
            background: #3b82f6;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            animation: notificationSlideIn 0.3s ease-out;
            max-width: 300px;
            word-break: break-word;
        }
        
        .notification-success { background: #10b981; }
        .notification-warning { background: #f59e0b; }
        .notification-error { background: #ef4444; }
        
        @keyframes notificationSlideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .notification-close {
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
            opacity: 0.7;
            padding: 4px;
            border-radius: 4px;
            transition: opacity 0.2s;
        }
        
        .notification-close:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body data-page="moments">
    <!-- Firebase SDKï¼ˆæ”¾åœ¨å…¶ä»–è„šæœ¬ä¹‹å‰ï¼‰ -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <!-- Firebase é…ç½® -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD9NwlJxYiRjFh3cPjpJGmQAhogmrFpU4M",
            authDomain: "kuangke-galaxy.firebaseapp.com",
            projectId: "kuangke-galaxy",
            storageBucket: "kuangke-galaxy.firebasestorage.app",
            messagingSenderId: "416862048915",
            appId: "1:416862048915:web:6578fcd23d8cf882c53366",
            measurementId: "G-VZCQM1H4BR"
        };
        // åˆå§‹åŒ– Firebase
        firebase.initializeApp(firebaseConfig);
        console.log('Firebase åˆå§‹åŒ–æˆåŠŸï¼');
    </script>
    
    <!-- æ·»åŠ é»˜è®¤æ•°æ® -->
    <script>
        // ç¡®ä¿æœ‰é»˜è®¤çš„æœ‹å‹åœˆæ•°æ®
        window.momentsData = [
            {
                id: 'moment_1',
                avatar: 'https://picsum.photos/seed/avatar1/100/100.jpg',
                username: 'ç‹‚å®¢åŒå­¦',
                time: '2025-01-15 10:30:00',
                content: 'ä»Šå¤©å­¦ä¹ äº†æ–°çš„AIæŠ€æœ¯ï¼Œæ„Ÿè§‰æ”¶è·æ»¡æ»¡ï¼ç»§ç»­åŠ æ²¹ğŸ’ª',
                images: ['https://picsum.photos/seed/ai1/300/200.jpg'],
                likes: 42,
                comments: [
                    { id: 'c1', text: 'å¤ªæ£’äº†ï¼', timestamp: Date.now() - 3600000, author: 'å°æ˜' }
                ],
                category: 'å­¦ä¹ æˆé•¿'
            },
            {
                id: 'moment_2',
                avatar: 'https://picsum.photos/seed/avatar2/100/100.jpg',
                username: 'æ˜Ÿç©ºæ¢ç´¢è€…',
                time: '2025-01-14 15:45:00',
                content: 'åˆ†äº«ä¸€ä¸ªå¾ˆæ£’çš„å­¦ä¹ æ–¹æ³•ï¼šç•ªèŒ„å·¥ä½œæ³•çœŸçš„èƒ½æé«˜æ•ˆç‡ï¼',
                images: ['https://picsum.photos/seed/study1/300/200.jpg'],
                likes: 28,
                comments: [],
                category: 'å­¦ä¹ æˆé•¿'
            },
            {
                id: 'moment_3',
                avatar: 'https://picsum.photos/seed/avatar3/100/100.jpg',
                username: 'ç¾é£Ÿè¾¾äºº',
                time: '2025-01-13 18:20:00',
                content: 'ä»Šå¤©å°è¯•äº†æ–°çš„é£Ÿè°±ï¼Œå‘³é“è¶…èµï¼ğŸœ',
                images: ['https://picsum.photos/seed/food1/300/200.jpg', 'https://picsum.photos/seed/food2/300/200.jpg'],
                likes: 35,
                comments: [],
                category: 'ç¾é£Ÿåˆ†äº«'
            }
        ];
    </script>
    
    <header class="header">
        <div class="container">
            <div class="header-left">
                <h1 class="logo">ç‹‚å®¢Â·é“¶æ²³</h1>
                <nav class="main-nav">
                    <a class="success-link" href="success.html">
                        <span class="success-icon">
                            <i class="fas fa-meteor"></i>
                        </span>
                        <span class="success-text">æˆåŠŸæ—¥è®°</span>
                    </a>
                    <a class="sky-link" href="reading.html">
                        <span class="sky-icon">
                            <i class="fas fa-star"></i>
                        </span>
                        <span class="sky-text">æ˜Ÿç©º</span>
                    </a>
                    <a class="ai-nav-button" href="ai.html">
                        <span class="ai-icon">
                            <i class="fas fa-robot"></i>
                        </span>
                        <span class="ai-text">AIå‰æ²¿</span>
                    </a>
                    <a class="exam-link" href="exam.html">
                        <span class="exam-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </span>
                        <span class="exam-text">è€ƒè¯•ç›¸å…³</span>
                    </a>
                </nav>
            </div>
            <div class="controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="æœç´¢é“¶æ²³ä¸­...">
                </div>
                <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>
    <nav class="category-nav">
        <div class="container">
            <div class="category-scroll">
                <button class="category-btn active" data-category="all">å…¨éƒ¨</button>
                <button class="category-btn" data-category="ç”Ÿæ´»æ—¥å¸¸">ç”Ÿæ´»æ—¥å¸¸</button>
                <button class="category-btn" data-category="ç¾é£Ÿåˆ†äº«">ç¾é£Ÿåˆ†äº«</button>
                <button class="category-btn" data-category="æ—…è¡Œè§é—»">æ—…è¡Œè§é—»</button>
                <button class="category-btn" data-category="å·¥ä½œç›¸å…³">å·¥ä½œç›¸å…³</button>
                <button class="category-btn" data-category="å­¦ä¹ æˆé•¿">å­¦ä¹ æˆé•¿</button>
                <button class="category-btn" data-category="å¥èº«è¿åŠ¨">å¥èº«è¿åŠ¨</button>
                <button class="category-btn" data-category="æ—¶å°šç©¿æ­">æ—¶å°šç©¿æ­</button>
                <button class="category-btn" data-category="è‰ºæœ¯æ–‡åŒ–">è‰ºæœ¯æ–‡åŒ–</button>
                <button class="category-btn" data-category="æƒ…æ„Ÿè¡¨è¾¾">æƒ…æ„Ÿè¡¨è¾¾</button>
                <button class="category-btn" data-category="èŠ‚æ—¥çºªå¿µ">èŠ‚æ—¥çºªå¿µ</button>
                <button class="category-btn" data-category="å…¬ç›Šç¯ä¿">å…¬ç›Šç¯ä¿</button>
                <button class="category-btn" data-category="ç§‘æŠ€æ•°ç ">ç§‘æŠ€æ•°ç </button>
                <button class="category-btn" data-category="è´¢ç»ç†è´¢">è´¢ç»ç†è´¢</button>
                <button class="category-btn" data-category="å¹½é»˜æ®µå­">å¹½é»˜æ®µå­</button>
                <button class="category-btn" data-category="é—®ç­”äº’åŠ¨">é—®ç­”äº’åŠ¨</button>
            </div>
        </div>
    </nav>
    <main class="main-content">
        <div class="container">
            <div id="momentsContainer" class="moments-grid">
                <!-- åŠ¨æ€åŠ è½½çš„å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>
    </main>
    <footer class="social-footer">
        <div class="container">
            <div class="social-links">
                <a href="https://open.weixin.qq.com/qr/code?username=gh_ba5b6bb6bd89"
                   target="_blank" class="social-link wechat" title="å¾®ä¿¡å…¬ä¼—å·" rel="noopener noreferrer">
                    <i class="fab fa-weixin"></i>
                </a>
                <a href="https://github.com/kuangketongxue" target="_blank" class="social-link github" title="GitHub" rel="noopener noreferrer">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://x.com/kuangketongxue" target="_blank" class="social-link x" title="X (å‰ Twitter)" rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
            </div>
            <p class="copyright">Â© 2025 ç‹‚å®¢Â·é“¶æ²³ ç‰ˆæƒæ‰€æœ‰</p>
        </div>
    </footer>
    <div id="commentModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="commentModalTitle">
        <div class="modal-content">
            <span class="close" aria-label="å…³é—­è¯„è®ºå¼¹çª—">&times;</span>
            <h2 id="commentModalTitle">è¯„è®º</h2>
            <div id="commentsList" class="comments-list">
                <!-- è¯„è®ºå°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
            </div>
            <div class="comment-input-area">
                <label for="commentInput" class="sr-only">è¾“å…¥ä½ çš„è¯„è®º</label>
                <input type="text" id="commentInput" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." aria-label="è¯„è®ºè¾“å…¥æ¡†">
                <button id="submitComment">å‘é€</button>
            </div>
        </div>
    </div>
    <!-- é¡¹ç›®è„šæœ¬ -->
    <script src="data.js"></script>
    <script src="firebase-handler.js"></script>
    <script src="script.js"></script>
</body>
</html>
